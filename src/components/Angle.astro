---
import clsx from "clsx";
export interface AngleProps {
  as?: string;
  class?: string;
  side?: "top" | "bottom";
}
const { as = "header", class: extraClass = "", side = "bottom" } = Astro.props;
const As = as;
---

<style is:global>
  :root {
    /* https://9elements.com/blog/create-diagonal-layouts-like-its-2020/ */
    --width: min(100vw, 42rem);
    --full-width: 100vw;

    --angle: -2deg;
    --abs-angle: max(var(--angle), var(--angle) * -1);
    --tan-alpha: tan(var(--abs-angle));
    --clip-padding: calc(var(--full-width) * var(--tan-alpha) / 2);
  }

  .angle--bottom {
    clip-path: polygon(
      0% 0%,
      100% 0%,
      100% calc(100% - var(--clip-padding) * 2),
      0% 100%
    );
  }

  .angle--top {
    clip-path: polygon(
      0% calc(var(--clip-padding) * 2),
      100% 0%,
      100% 100%,
      0% 100%
    );
  }
</style>

<As
  class={clsx("angle", extraClass, {
    "angle--top": side === "top",
    "angle--bottom": side !== "top",
  })}
>
  <slot />
</As>
